import{C as $,z as q,p as V,a as b,o as x,g as s,u as t,h as S,w as n,e as a,q as B,b as M,k as i,s as c,F as _,l as A,t as y,v as E,x as U,P as j,A as F}from"./app-DNpDdwth.js";import{_ as L}from"./Header-c-Py2f2f.js";import{_ as N}from"./PagesHeader-NWwsutB1.js";import{_ as O}from"./Countdowns-BTJodptv.js";import{_ as h}from"./index-Bpvw9zwu.js";import{_ as u,a as p}from"./Label.vue_vue_type_script_setup_true_lang-C3AvGiyN.js";import{_ as R}from"./Checkbox.vue_vue_type_script_setup_true_lang-CV01eoVQ.js";import{_ as r}from"./InputError.vue_vue_type_script_setup_true_lang-DTXxsp9C.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DDSSTA-9.js";import"./Primitive-DcS1Aqvo.js";const T=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT - Abuja","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"],z=d=>d.replace(/ /g,"_").replace(/[^a-zA-Z0-9_-]/g,"").replace(/_+/g,"_").toLowerCase(),I={class:"w-full max-w-2xl mx-auto mb-30 px-4 sm:px-6"},K={class:"mb-5"},P={class:"mb-5 hidden"},D={class:"mb-5 hidden"},H=["value"],J={class:"mb-5"},Y={class:"mb-5"},W={class:"mb-5"},Z={class:"mb-5 hidden"},G={class:"mb-5"},Q={class:"mb-5"},X={class:"mb-5"},ee={class:"mb-5 opacity-50 pointer-events-none"},te={class:"mb-5 opacity-50 pointer-events-none"},oe={class:"flex space-x-2 mb-5"},se={key:0,class:"mb-5"},le={class:"h-2 bg-gray-200 rounded overflow-hidden mb-0.5"},ae={class:"text-sm text-gray-600 text-center mt-1"},ie={class:"text-center"},ye={__name:"JoinCompetition",props:["competition"],setup(d){const o=$({name:"",slug:"",email:"",phone:"",insta:"",title_of_piece:"",writing_experience:"",discovery_story:"",video_path:"",picture_path:""});q(()=>o.name,m=>{o.slug=`${z(m)}_${Date.now()}`});const g=V(!1),v=V(null);function w(m,e){const l=m.target.files[0];if(e==="video_path"){const f=document.createElement("video");f.preload="metadata",f.onloadedmetadata=()=>{window.URL.revokeObjectURL(f.src),f.duration>180?(alert("Video must not be longer than 3 minutes."),m.target.value=null,o.video_path=null):o.video_path=l},f.onerror=()=>{alert("Invalid video file."),m.target.value=null,o.video_path=null},f.src=URL.createObjectURL(l)}else o[e]=l}function k(){g&&o.post(route("site.storeContestant",d.competition.slug),{method:"post",preserveScroll:!1,forceFormData:!0,onProgress:m=>{m&&m.percentage&&(v.value=m.percentage)},onFinish:()=>{v.value=null}})}const C=[{name:"Home",url:"/"},{name:"Competitions",url:"/competitions"},{name:d.competition.title,url:`/competitions/${d.competition.slug}`},{name:"Join",url:`/competitions/${d.competition.slug}/join`}];return(m,e)=>(x(),b(_,null,[s(t(S),{title:`Join ${d.competition.title}`},null,8,["title"]),s(L,null,{default:n(()=>[s(N,{title:`Join ${d.competition.title}`,breadcumb:C,class:"mb-20 scale-in",image:d.competition.cover},null,8,["title","image"]),a("main",I,[e[35]||(e[35]=a("div",{class:"mb-5"},[a("h1",{class:"text-2xl sm:text-3xl text-[var(--echo-dark-400)] barlow-condensed-bold mb-1"},"Ready to Make Your Voice Heard?"),a("p",{class:"text-sm sm:text-base text-neutral-600/80"},"Your words matter—now let them be heard. Fill out the form below and take the first step toward recognition, rewards, and real impact.")],-1)),s(O,{competition:d.competition,class:"countdown"},null,8,["competition"]),a("form",{onSubmit:B(k,["prevent"])},[s(r,{message:Object.keys(t(o).errors).length?"You have errors in your form!":!1,class:"text-center mb-5"},null,8,["message"]),a("div",K,[s(t(u),{required:!0},{default:n(()=>e[14]||(e[14]=[i("Full Name")])),_:1}),s(t(p),{type:"text",modelValue:t(o).name,"onUpdate:modelValue":e[0]||(e[0]=l=>t(o).name=l)},null,8,["modelValue"]),s(r,{message:t(o).errors.name},null,8,["message"])]),a("div",P,[s(t(u),null,{default:n(()=>e[15]||(e[15]=[i("Age")])),_:1}),s(t(p),{type:"number",modelValue:t(o).age,"onUpdate:modelValue":e[1]||(e[1]=l=>t(o).age=l)},null,8,["modelValue"]),s(r,{message:t(o).errors.age},null,8,["message"])]),a("div",D,[s(t(u),{required:!0},{default:n(()=>e[16]||(e[16]=[i("Location")])),_:1}),c(a("select",{type:"text","onUpdate:modelValue":e[2]||(e[2]=l=>t(o).location=l),class:"input"},[e[17]||(e[17]=a("option",{value:""},"Select",-1)),(x(!0),b(_,null,A(t(T),l=>(x(),b("option",{key:l,value:l},y(l),9,H))),128))],512),[[E,t(o).location]]),s(r,{message:t(o).errors.location},null,8,["message"])]),a("div",J,[s(t(u),{required:!0},{description:n(()=>e[18]||(e[18]=[i("Ensure your email is correct and active to avoid disqualification.")])),default:n(()=>[e[19]||(e[19]=i(" Email "))]),_:1}),s(t(p),{type:"email",modelValue:t(o).email,"onUpdate:modelValue":e[3]||(e[3]=l=>t(o).email=l),placeholder:"mail@example.com"},null,8,["modelValue"]),s(r,{message:t(o).errors.email},null,8,["message"])]),a("div",Y,[s(t(u),{required:!0},{description:n(()=>e[20]||(e[20]=[i("Ensure this number is available on WhatsApp so we can message you.")])),default:n(()=>[e[21]||(e[21]=i(" Telephone No"))]),_:1}),s(t(p),{type:"tel",modelValue:t(o).phone,"onUpdate:modelValue":e[4]||(e[4]=l=>t(o).phone=l),placeholder:"+23466090989"},null,8,["modelValue"]),s(r,{message:t(o).errors.phone},null,8,["message"])]),a("div",W,[s(t(u),null,{default:n(()=>e[22]||(e[22]=[i("Instagram Handle")])),_:1}),s(t(p),{type:"text",modelValue:t(o).insta,"onUpdate:modelValue":e[5]||(e[5]=l=>t(o).insta=l),placeholder:"@username"},null,8,["modelValue"]),s(r,{message:t(o).errors.insta},null,8,["message"])]),a("div",Z,[s(t(u),{required:!0},{default:n(()=>e[23]||(e[23]=[i("Occupation")])),_:1}),s(t(p),{type:"text",modelValue:t(o).occupation,"onUpdate:modelValue":e[6]||(e[6]=l=>t(o).occupation=l)},null,8,["modelValue"]),s(r,{message:t(o).errors.occupation},null,8,["message"])]),a("div",G,[s(t(u),{required:!0},{default:n(()=>e[24]||(e[24]=[i("Title of Your Piece")])),_:1}),s(t(p),{type:"text",modelValue:t(o).title_of_piece,"onUpdate:modelValue":e[7]||(e[7]=l=>t(o).title_of_piece=l)},null,8,["modelValue"]),s(r,{message:t(o).errors.title_of_piece},null,8,["message"])]),a("div",Q,[s(t(u),{required:!0},{default:n(()=>e[25]||(e[25]=[i("How long have you been writing?")])),_:1}),c(a("textarea",{"onUpdate:modelValue":e[8]||(e[8]=l=>t(o).writing_experience=l),class:"input",rows:"3",style:{height:"auto"}},null,512),[[U,t(o).writing_experience]]),s(r,{message:t(o).errors.writing_experience},null,8,["message"])]),a("div",X,[s(t(u),{required:!0},{default:n(()=>e[26]||(e[26]=[i("How did you discover your writing talent?")])),_:1}),c(a("textarea",{"onUpdate:modelValue":e[9]||(e[9]=l=>t(o).discovery_story=l),class:"input",rows:"3",style:{height:"auto"}},null,512),[[U,t(o).discovery_story]]),s(r,{message:t(o).errors.discovery_story},null,8,["message"])]),a("div",ee,[s(t(u),{required:!0},{description:n(()=>e[27]||(e[27]=[i("Max file size of 50MB")])),default:n(()=>[e[28]||(e[28]=i(" Upload Spoken Word Video (Max 3 min, mp4/mov) "))]),_:1}),s(t(p),{type:"file",onChange:e[10]||(e[10]=l=>w(l,"video_path")),accept:".mp4, .mov"}),s(r,{message:t(o).errors.video_path},null,8,["message"]),e[29]||(e[29]=a("p",{class:"text-sm text-neutral-600 mt-2"},[i(" Is your video file size above 50MB? Compress "),a("a",{href:"https://clideo.com/compress-video",class:"text-blue-600 underline underline-offset-4",target:"_blank"},"here"),i(". ")],-1))]),a("div",te,[s(t(u),{required:!0},{description:n(()=>e[30]||(e[30]=[i("Max file size of 3MB")])),default:n(()=>[e[31]||(e[31]=i(" Upload Picture (jpg/png) "))]),_:1}),s(t(p),{type:"file",onChange:e[11]||(e[11]=l=>w(l,"picture_path")),accept:".jpg, .jpeg, .png"}),s(r,{message:t(o).errors.picture_path},null,8,["message"])]),a("div",oe,[s(t(R),{modelValue:g.value,"onUpdate:modelValue":e[12]||(e[12]=l=>g.value=l),class:"translate-y-1"},null,8,["modelValue"]),a("p",{onClick:e[13]||(e[13]=l=>g.value=!g.value),class:"text-sm text-neutral-700"},[e[33]||(e[33]=i(" I agree to the ")),s(t(j),{href:"/ter",class:"text-blue-600"},{default:n(()=>e[32]||(e[32]=[i("Terms & Conditions")])),_:1}),i(" and give "+y(m.$page.props.name)+" permission to use my submitted materials for contest and promotional purposes. ",1)])]),v.value?(x(),b("div",se,[a("div",le,[a("div",{class:"bg-blue-500 h-2 transition-all duration-300",style:F({width:`${v.value}%`})},null,4)]),a("p",ae,"Uploading Contents  -  "+y(v.value)+"%",1)])):M("",!0),a("div",ie,[s(t(h),{class:"btns btn-grad bg-blue-500",disabled:t(o).processing||!g.value,loading:t(o).processing},{default:n(()=>e[34]||(e[34]=[i("Submit")])),_:1},8,["disabled","loading"])])],32)])]),_:1})],64))}};export{ye as default};
