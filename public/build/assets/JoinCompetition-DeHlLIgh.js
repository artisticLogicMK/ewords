import{C as U,z as S,p as _,a as c,o as b,g as s,u as t,h as B,w as n,e as l,q as M,b as q,k as i,s as x,F as V,l as j,t as y,v as A,x as k,P as F,A as L}from"./app-CajbbBrC.js";import{_ as O}from"./Header-CoAr3a9F.js";import{_ as h}from"./PagesHeader-BLWTOjxd.js";import{_ as N}from"./Countdowns-DKdUEad2.js";import{_ as R}from"./index-B2rQ5KeX.js";import{_ as d,a as f}from"./Label.vue_vue_type_script_setup_true_lang-DmQ_h-9G.js";import{_ as z}from"./Checkbox.vue_vue_type_script_setup_true_lang-CblJMlgj.js";import{_ as m}from"./InputError.vue_vue_type_script_setup_true_lang-DSqzJLUQ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-Cj2U2hb6.js";import"./Primitive-CXppFwkv.js";const E=["Abia","Adamawa","Akwa Ibom","Anambra","Bauchi","Bayelsa","Benue","Borno","Cross River","Delta","Ebonyi","Edo","Ekiti","Enugu","FCT - Abuja","Gombe","Imo","Jigawa","Kaduna","Kano","Katsina","Kebbi","Kogi","Kwara","Lagos","Nasarawa","Niger","Ogun","Ondo","Osun","Oyo","Plateau","Rivers","Sokoto","Taraba","Yobe","Zamfara"],K=u=>u.replace(/ /g,"_").replace(/[^a-zA-Z0-9_-]/g,"").replace(/_+/g,"_").toLowerCase(),P={class:"w-full max-w-2xl mx-auto mb-30 px-4 sm:px-6"},T={class:"mb-5"},D={class:"mb-5"},I={class:"mb-5"},J=["value"],Y={class:"mb-5"},H={class:"mb-5"},Z={class:"mb-5"},G={class:"mb-5"},W={class:"mb-5 opacity-50 pointer-events-none"},Q={class:"mb-5 opacity-50 pointer-events-none"},X={class:"flex space-x-2 mb-5"},ee={key:0,class:"mb-5"},te={class:"h-2 bg-gray-200 rounded overflow-hidden mb-0.5"},oe={class:"text-sm text-gray-600 text-center mt-1"},se={class:"text-center"},ce={__name:"JoinCompetition",props:["competition"],setup(u){const o=U({name:"",slug:"",age:null,location:"",occupation:"",title_of_piece:"",writing_experience:"",discovery_story:"",video_path:"",picture_path:""});S(()=>o.name,r=>{o.slug=`${K(r)}_${Date.now()}`});const p=_(!1),v=_(null);function w(r,e){const a=r.target.files[0];if(e==="video_path"){const g=document.createElement("video");g.preload="metadata",g.onloadedmetadata=()=>{window.URL.revokeObjectURL(g.src),g.duration>180?(alert("Video must not be longer than 3 minutes."),r.target.value=null,o.video_path=null):o.video_path=a},g.onerror=()=>{alert("Invalid video file."),r.target.value=null,o.video_path=null},g.src=URL.createObjectURL(a)}else o[e]=a}function C(){p&&o.post(route("site.storeContestant",u.competition.slug),{method:"post",preserveScroll:!1,forceFormData:!0,onProgress:r=>{r&&r.percentage&&(v.value=r.percentage)},onFinish:()=>{v.value=null}})}const $=[{name:"Home",url:"/"},{name:"Competitions",url:"/competitions"},{name:u.competition.title,url:`/competitions/${u.competition.slug}`},{name:"Join",url:`/competitions/${u.competition.slug}/join`}];return(r,e)=>(b(),c(V,null,[s(t(B),{title:`Join ${u.competition.title}`},null,8,["title"]),s(O,null,{default:n(()=>[s(h,{title:`Join ${u.competition.title}`,breadcumb:$,class:"mb-20 scale-in",image:u.competition.cover},null,8,["title","image"]),l("main",P,[e[27]||(e[27]=l("div",{class:"mb-5"},[l("h1",{class:"text-2xl sm:text-3xl text-[var(--echo-dark-400)] barlow-condensed-bold mb-1"},"Ready to Make Your Voice Heard?"),l("p",{class:"text-sm sm:text-base text-neutral-600/80"},"Your words matter—now let them be heard. Fill out the form below and take the first step toward recognition, rewards, and real impact.")],-1)),s(N,{competition:u.competition,class:"countdown"},null,8,["competition"]),l("form",{onSubmit:M(C,["prevent"])},[s(m,{message:Object.keys(t(o).errors).length?"You have errors in your form!":!1,class:"text-center mb-5"},null,8,["message"]),l("div",T,[s(t(d),{required:!0},{default:n(()=>e[11]||(e[11]=[i("Full Name")])),_:1}),s(t(f),{type:"text",modelValue:t(o).name,"onUpdate:modelValue":e[0]||(e[0]=a=>t(o).name=a)},null,8,["modelValue"]),s(m,{message:t(o).errors.name},null,8,["message"])]),l("div",D,[s(t(d),null,{default:n(()=>e[12]||(e[12]=[i("Age")])),_:1}),s(t(f),{type:"number",modelValue:t(o).age,"onUpdate:modelValue":e[1]||(e[1]=a=>t(o).age=a)},null,8,["modelValue"]),s(m,{message:t(o).errors.age},null,8,["message"])]),l("div",I,[s(t(d),{required:!0},{default:n(()=>e[13]||(e[13]=[i("Location")])),_:1}),x(l("select",{type:"text","onUpdate:modelValue":e[2]||(e[2]=a=>t(o).location=a),class:"input"},[e[14]||(e[14]=l("option",{value:""},"Select",-1)),(b(!0),c(V,null,j(t(E),a=>(b(),c("option",{key:a,value:a},y(a),9,J))),128))],512),[[A,t(o).location]]),s(m,{message:t(o).errors.location},null,8,["message"])]),l("div",Y,[s(t(d),{required:!0},{default:n(()=>e[15]||(e[15]=[i("Occupation")])),_:1}),s(t(f),{type:"text",modelValue:t(o).occupation,"onUpdate:modelValue":e[3]||(e[3]=a=>t(o).occupation=a)},null,8,["modelValue"]),s(m,{message:t(o).errors.occupation},null,8,["message"])]),l("div",H,[s(t(d),{required:!0},{default:n(()=>e[16]||(e[16]=[i("Title of Your Piece")])),_:1}),s(t(f),{type:"text",modelValue:t(o).title_of_piece,"onUpdate:modelValue":e[4]||(e[4]=a=>t(o).title_of_piece=a)},null,8,["modelValue"]),s(m,{message:t(o).errors.title_of_piece},null,8,["message"])]),l("div",Z,[s(t(d),{required:!0},{default:n(()=>e[17]||(e[17]=[i("How long have you been writing?")])),_:1}),x(l("textarea",{"onUpdate:modelValue":e[5]||(e[5]=a=>t(o).writing_experience=a),class:"input",rows:"3",style:{height:"auto"}},null,512),[[k,t(o).writing_experience]]),s(m,{message:t(o).errors.writing_experience},null,8,["message"])]),l("div",G,[s(t(d),{required:!0},{default:n(()=>e[18]||(e[18]=[i("How did you discover your writing talent?")])),_:1}),x(l("textarea",{"onUpdate:modelValue":e[6]||(e[6]=a=>t(o).discovery_story=a),class:"input",rows:"3",style:{height:"auto"}},null,512),[[k,t(o).discovery_story]]),s(m,{message:t(o).errors.discovery_story},null,8,["message"])]),l("div",W,[s(t(d),{required:!0},{description:n(()=>e[19]||(e[19]=[i("Max file size of 50MB")])),default:n(()=>[e[20]||(e[20]=i(" Upload Spoken Word Video (Max 3 min, mp4/mov) "))]),_:1}),s(t(f),{type:"file",onChange:e[7]||(e[7]=a=>w(a,"video_path")),accept:".mp4, .mov"}),s(m,{message:t(o).errors.video_path},null,8,["message"]),e[21]||(e[21]=l("p",{class:"text-sm text-neutral-600 mt-2"},[i(" Is your video file size above 50MB? Compress "),l("a",{href:"https://clideo.com/compress-video",class:"text-blue-600 underline underline-offset-4",target:"_blank"},"here"),i(". ")],-1))]),l("div",Q,[s(t(d),{required:!0},{description:n(()=>e[22]||(e[22]=[i("Max file size of 3MB")])),default:n(()=>[e[23]||(e[23]=i(" Upload Picture (jpg/png) "))]),_:1}),s(t(f),{type:"file",onChange:e[8]||(e[8]=a=>w(a,"picture_path")),accept:".jpg, .jpeg, .png"}),s(m,{message:t(o).errors.picture_path},null,8,["message"])]),l("div",X,[s(t(z),{modelValue:p.value,"onUpdate:modelValue":e[9]||(e[9]=a=>p.value=a),class:"translate-y-1"},null,8,["modelValue"]),l("p",{onClick:e[10]||(e[10]=a=>p.value=!p.value),class:"text-sm text-neutral-700"},[e[25]||(e[25]=i(" I agree to the ")),s(t(F),{href:"/ter",class:"text-blue-600"},{default:n(()=>e[24]||(e[24]=[i("Terms & Conditions")])),_:1}),i(" and give "+y(r.$page.props.name)+" permission to use my submitted materials for contest and promotional purposes. ",1)])]),v.value?(b(),c("div",ee,[l("div",te,[l("div",{class:"bg-blue-500 h-2 transition-all duration-300",style:L({width:`${v.value}%`})},null,4)]),l("p",oe,"Uploading Contents  -  "+y(v.value)+"%",1)])):q("",!0),l("div",se,[s(t(R),{class:"btns btn-grad bg-blue-500",disabled:t(o).processing||!p.value,loading:t(o).processing},{default:n(()=>e[26]||(e[26]=[i("Submit")])),_:1},8,["disabled","loading"])])],32)])]),_:1})],64))}};export{ce as default};
